<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>

        <template id="boroscopia_report_css">
            <meta charset="utf-8"/>
            <style>
                html {
                    font-family: sans-serif; /* 1 */
                    -ms-text-size-adjust: 100%; /* 2 */
                    -webkit-text-size-adjust: 100%; /* 2 */
                }
                .fullwidth {
                    width: 100%;
                    border-collapse: collapse;
                }
                .noborde {
                    border: 0px none;
                }
                .theadtitle {
                    font-weight: bold;
                    font-size: 3.5687mm !important;
                    text-transform: uppercase;
                }
                .literal {
                    font-size: 3.5687mm;
                }
                .fieldvalue {
                    font-weight: normal;
                    font-size: 3.5687mm;
                }
                .numericfieldvalue {
                    font-weight: normal;
                    font-size: 3.5687mm;
                }
                .pagecontent {
                    width: 230mm;
                    height: 320mm;
                }
                .tdcolored {
                    background-color: rgba(0,0,0,0.40);
                    color: #ffffff;
                }
                .tdcoloredmain {
                    background-color: rgba(0,0,0,1);
                    color: #ffffff;
                }
                .centertext {text-align:center;}
                .heightrow {height: 50px;}
                .nowrap {white-space: nowrap;}
                thead { display: table-header-group }
                tfoot { display: table-header-group }
                tr { page-break-inside: avoid }
                th, tbody td, tfoot td {
                    border: 1px solid #B0B0B0;
                    padding-right:3px;
                    padding-left:3px;
                    padding-top:3px;
                    padding-bottom:3px;
                    text-align:left;
                    font-size:12px;
                    font-weight:normal;
                }
                td{
                    vertical-align: middle
                }
            </style>
        </template>

        <template id="leulit_20240214_0956_informe">
            <t t-call="web.html_container">
                <div class="header">
                    <table class="fullwidth noborde">
                        <tr>
                            <th class="noborde">
                                <table class="noborde">
                                    <tr>
                                        <td class="noborde" style="font-size:8px; white-space: nowrap; text-align:center">(c) Icarus Manteniment</td>
                                        <td class="noborde" style="font-size:8px; white-space: nowrap; text-align:center">
                                            <i>Fecha creación documento</i><br/>
                                            <i><span t-esc="item['fecha']"/></i>
                                        </td>
                                        <td class="noborde" style="font-size:8px; white-space: nowrap; text-align:center">
                                            <t t-if="hashcode">
                                                <i>Firmado por:</i><br/>
                                                <i><span t-esc="firmado_por"/></i>
                                            </t>
                                        </td>
                                        <td class="noborde" style="font-size:8px; white-space: nowrap; text-align:center">
                                            <t t-if="hashcode">
                                                <i>CSV/CID</i><br/>
                                                <span t-esc="hashcode"/>
                                            </t>
                                            <t t-if="not hashcode">
                                                <i>Referencia</i><br/>
                                                <span t-esc="hashcode_interno"/>
                                            </t>
                                        </td>
                                    </tr>
                                </table>
                            </th>
                            <th class="noborde">
                                <table align="right">
                                    <tr>
                                        <td style="font-size:8px; white-space: nowrap; text-align:center" class="noborde"><b>Código:</b></td>
                                        <td style="font-size:8px; white-space: nowrap; text-align:center" class="noborde">HLP-DOC-0011</td>
                                        <td style="font-size:8px; white-space: nowrap; text-align:center" class="noborde"><b>Versión:</b></td>
                                        <td style="font-size:8px; white-space: nowrap; text-align:center" class="noborde">1.1.0</td>
                                    </tr>
                                </table>
                            </th>
                        </tr>
                        <tr>
                            <th class="noborde" colspan="2" style="border-top: 1px solid #575757;">
                                <table class="fullwidth noborde" style="margin-bottom: 30px">
                                    <tbody>
                                        <tr class="noborde">
                                            <td colspan="2" class="noborde" style="font-size:8px;width:100%; text-align:center">
                                                Cualquier copia total o parcial de este documento se considera copia no controlada y siempre deberá ser contrastada con la información vigente en la intranet. (https://erp.helipistas.com/verifycsv)
                                            </td>
                                        </tr>
                                        <tr class="noborde">
                                            <td class="noborde">
                                                <table class="fullwidth">
                                                    <tr>
                                                        <td class="noborde" style="font-size:12px; width:15%; white-space: nowrap; text-align:left">
                                                            <img t-att-src="'data:image/png;base64,%s' % logo_ica" style="width:auto;height:25px;"/><br/>
                                                        </td>
                                                        <td class="noborde" style="font-size:20px; white-space: nowrap; text-align:center">
                                                            <span><b>Informe de Boroscopia</b></span><br/>
                                                        </td>
                                                        <td class="noborde" style="font-size:12px; width:15%; white-space: nowrap; text-align:center">
                                                            <span>M.O.E  2.16</span>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </th>
                        </tr>
                    </table>
                </div>
                <div class="article">
                    <div class="page">
                        <t t-set="cont" t-value="1"/>
                        <t t-foreach="boroscopialist" t-as="item">
                            <t t-call="leulit_taller.boroscopia_report_css"/>
                            <table class="fullwidth">
                                <tr>
                                    <td class="tdcolored theadtitle" >
                                        Datos aeronave / Aircraft data
                                    </td>
                                </tr>
                            </table>
                            <table class="fullwidth">
                                <tr>
                                    <th class="centertext tdcolored literal">Matrícula</th>
                                    <th class="centertext tdcolored literal">Marca</th>
                                    <th class="centertext tdcolored literal">Modelo</th>
                                    <th class="centertext tdcolored literal">S/N</th>
                                    <th class="centertext tdcolored literal">TSN</th>
                                    <th class="centertext tdcolored literal">O.T.</th>
                                </tr>
                                <tr>
                                    <td class="centertext fieldvalue"><span t-esc="item['matricula']"/></td>
                                    <td class="centertext fieldvalue"><span t-esc="item['marca']"/></td>
                                    <td class="centertext fieldvalue"><span t-esc="item['modelo']"/></td>
                                    <td class="centertext fieldvalue"><span t-esc="item['sn']"/></td>
                                    <td class="centertext numericfieldvalue"><span t-esc="item['tsn']"/></td>
                                    <td class="centertext fieldvalue"><span t-esc="item['ot']"/></td>
                                </tr>
                            </table>
                            <table class="fullwidth">
                                <tr>
                                    <td class="tdcolored theadtitle" >
                                        Herramientas / Tools
                                    </td>
                                </tr>
                            </table>
                            <table class="fullwidth">
                                <tr>
                                    <td class="centertext tdcolored literal">P/N</td>
                                    <td class="centertext tdcolored literal">S/N</td>
                                    <td class="centertext tdcolored literal">Fabricante</td>
                                </tr>
                                <t t-foreach="item['herramientas']" t-as="tool">
                                    <tr>
                                        <td class="centertext fieldvalue"><span t-esc="tool['pn']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="tool['sn']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="tool['fabricante']"/></td>
                                    </tr>
                                </t>
                            </table>
                            <table class="fullwidth">
                                <tr>
                                    <td class="tdcolored literal">Resultado de la Inspección</td>
                                </tr>
                                <tr>
                                    <td class="fieldvalue"><span t-raw="item['resultado_inspeccion']"/></td>
                                </tr>
                            </table>
                            <t t-if="cont == num_pages">
                                <table class="fullwidth">
                                    <tr>
                                        <th class="centertext tdcolored literal">Nombre</th>
                                        <th class="centertext tdcolored literal">Lugar</th>
                                        <th class="centertext tdcolored literal">Técnico Certificador</th>
                                    </tr>
                                    <tr>
                                        <td class="centertext fieldvalue"><span t-esc="item['name']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="item['lugar']"/><br/><span t-esc="item['fecha']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="item['certificador']"/></td>
                                    </tr>
                                </table>
                            </t>
                            <t t-else="">
                                <table class="fullwidth" style="page-break-after: always;">
                                    <tr>
                                        <th class="centertext tdcolored literal">Nombre</th>
                                        <th class="centertext tdcolored literal">Lugar</th>
                                        <th class="centertext tdcolored literal">Técnico Certificador</th>
                                    </tr>
                                    <tr>
                                        <td class="centertext fieldvalue"><span t-esc="item['name']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="item['lugar']"/><br/><span t-esc="item['fecha']"/></td>
                                        <td class="centertext fieldvalue"><span t-esc="item['certificador']"/></td>
                                    </tr>
                                </table>
                            </t>
                            <t t-set="cont" t-value="cont+1"/>
                        </t>
                    </div>
                </div>
                <div class="footer">
                    <div style="text-align:right;font-size:10px;border-top:1px solid black;">Página: I-<span class="page"/> / I-<span class="topage"/></div>
                </div> 
            </t>
        </template>
    
    </data>
</odoo>