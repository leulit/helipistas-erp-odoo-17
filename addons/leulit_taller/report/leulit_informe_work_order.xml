<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="wo_report_css">
            <meta charset="utf-8"/>
            <style>
                html, body {
                    margin: 0 !important;
                    padding: 0 !important;
                    font-family: sans-serif;
                    font-size: 12px;
                    width: 100% !important;
                }
                .fullwidth {
                    width: 100% !important;
                    border-collapse: collapse;
                }
                .noborde {
                    border: 0px none !important;
                }
                /* Forzamos alineación de cabecera y pie */
                .header-content {
                    width: 100% !important;
                    border-bottom: 2px solid black;
                    margin-bottom: 0px;
                }
                .footer-content {
                    width: 100% !important;
                    border-top: 1px solid black;
                    padding-top: 5px;
                }
                /* Tablas de datos */
                th, td {
                    border: 1px solid #B0B0B0;
                    padding: 4px;
                    vertical-align: middle;
                    text-align: left;
                }
                .centertext { text-align:center; }
                .tdcolored {
                    background-color: rgba(0,0,0,0.40);
                    color: #ffffff;
                }
                .tdcoloredmain {
                    background-color: black;
                    color: white;
                }
                /* Evitar cortes de página en filas */
                tr { page-break-inside: avoid; 
                width: 100%;}
                thead { display: table-header-group; }
            </style>
        </template>

        <template id="leulit_20230905_1226_informe">
            <t t-call="web.html_container">
                <t t-call="leulit_taller.wo_report_css"/>

                <div class="header">
                    <div class="header-content">
                        <t t-if="logo_hlp">
                            <table class="fullwidth">
                                <tr>
                                    <td class="noborde centertext" style="width:33%;">
                                        <img t-att-src="'data:image/png;base64,%s' % logo_hlp" style="height:50px; width:auto;"/>
                                        <br/><span>ES.CAMO.005</span>
                                    </td>
                                    <td class="noborde centertext" style="width:34%; font-size:20px;">
                                        <b>WORK ORDER</b>
                                    </td>
                                    <td class="noborde centertext" style="width:33%;">
                                        <span>Formato 6</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="noborde centertext" style="font-size:16px;">
                                        <span t-esc="name"/>
                                    </td>
                                    <td class="noborde"></td>
                                    <td class="noborde centertext">
                                        <span>Ed.4 Rev: 2</span><br/><span>28/09/2022</span>
                                    </td>
                                </tr>
                            </table>
                        </t>
                        <t t-if="logo_ica">
                            <table class="fullwidth">
                                <tr>
                                    <td class="noborde centertext" style="width:30%;" rowspan="3">
                                        <img t-att-src="'data:image/png;base64,%s' % logo_ica" style="height:35px; width:auto;"/>
                                        <br/><span>ES. 145.173</span>
                                    </td>
                                    <td class="noborde centertext" style="width:40%; font-size:20px;" rowspan="2">
                                        <b>WORK ORDER</b>
                                    </td>
                                    <td class="noborde" style="width:15%;">Referencia:</td>
                                    <td class="noborde" style="width:15%;">M.O.E. 2.13</td>
                                </tr>
                                <tr>
                                    <td class="noborde">Formato:</td>
                                    <td class="noborde">2.0</td>
                                </tr>
                                <tr>
                                    <td class="noborde centertext" style="font-size:18px;">
                                        <span t-esc="name"/>
                                    </td>
                                    <td class="noborde">Revisión:</td>
                                    <td class="noborde">Rev. 3-2023</td>
                                </tr>
                            </table>
                        </t>
                    </div>
                </div>

                <div class="page">
                    <table class="fullwidth" style="margin-top: 10px;">
                        <tr>
                            <td rowspan="2" colspan="2" style="width:25%">
                                <b>Firma: </b><span t-esc="name_user"/>
                            </td>
                            <th class="centertext tdcolored" style="width:20%">Fecha Emisión</th>
                            <th class="centertext tdcolored" style="width:20%">Fecha Aceptación</th>
                            <td rowspan="2" class="noborde" style="width:35%; border:1px solid #B0B0B0 !important;">
                                <div style="display:inline-block; width:70%;">
                                    <b>Firma:</b> ES. 145.173<br/>
                                    <span t-esc="responsable_mant"/>
                                </div>
                                <div style="display:inline-block; width:25%; vertical-align:top;">
                                    <img t-att-src="'data:image/png;base64,%s' % logo_p145" style="height:25px; width:auto;"/>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="centertext"><span t-esc="fecha_emision"/></td>
                            <td class="centertext"><span t-esc="fecha_aceptacion"/></td>
                        </tr>
                        <tr>
                            <td class="tdcolored centertext">Matricula:</td>
                            <td><span t-esc="matricula"/></td>
                            <td colspan="2" class="tdcolored centertext">Propietario/Operador:</td>
                            <td colspan="2"><span t-esc="propietario_operador"/></td>
                        </tr>
                    </table>

                    <br/>

                    <table class="fullwidth">
                        <tr class="noborde">
                            <td class="noborde" style="width:10%"></td>
                            <td class="tdcolored centertext" style="width:20%">Aeronave</td>
                            <td class="tdcolored centertext" style="width:20%">Motor</td>
                            <td class="noborde" style="width:5%"></td>
                            <td rowspan="3" class="centertext" style="width:45%; border:1px solid #B0B0B0; padding:10px;">
                                <b>Referencia Programa Mantenimiento:</b><br/><br/>
                                <span t-esc="plan_mantenimiento"/>
                            </td>
                        </tr>
                        <tr>
                            <td class="tdcolored">Marca:</td>
                            <td><span t-esc="marca_aeronave"/></td>
                            <td><span t-esc="marca_motor"/></td>
                            <td class="noborde"></td>
                        </tr>
                        <tr>
                            <td class="tdcolored">Modelo:</td>
                            <td><span t-esc="modelo_aeronave"/></td>
                            <td><span t-esc="modelo_motor"/></td>
                            <td class="noborde"></td>
                        </tr>
                    </table>

                    <br/>

                    <table class="fullwidth">
                        <tr>
                            <td class="tdcolored" style="width:10%">S/N:</td>
                            <td style="width:20%"><span t-esc="sn_aeronave"/></td>
                            <td style="width:20%"><span t-esc="sn_motor"/></td>
                            <td class="tdcolored centertext" style="width:10%">C. Totales</td>
                            <td class="tdcolored centertext" style="width:10%">Ciclos NG</td>
                            <td class="tdcolored centertext" style="width:10%">Ciclos NF</td>
                            <td class="noborde"></td>
                        </tr>
                        <tr>
                            <td class="tdcolored">TSN:</td>
                            <td><span t-esc="tsn_aeronave"/></td>
                            <td><span t-esc="tsn_motor"/></td>
                            <td><span t-esc="ciclos_tsn"/></td>
                            <td><span t-esc="ciclos_ng_tsn"/></td>
                            <td><span t-esc="ciclos_nf_tsn"/></td>
                            <td class="noborde"></td>
                        </tr>
                        <tr>
                            <td class="tdcolored">TSO:</td>
                            <td><span t-esc="tso_aeronave"/></td>
                            <td><span t-esc="tso_motor"/></td>
                            <td><span t-esc="ciclos_tso"/></td>
                            <td><span t-esc="ciclos_ng_tso"/></td>
                            <td><span t-esc="ciclos_nf_tso"/></td>
                            <td class="noborde"></td>
                        </tr>
                    </table>

                    <br/>

                    <table class="fullwidth">
                        <thead>
                            <tr>
                                <td colspan="5" class="tdcoloredmain centertext" style="font-weight:bold;">TRABAJOS A REALIZAR</td>
                            </tr>
                            <tr>
                                <td colspan="5" class="tdcolored centertext">Revisiones Programadas</td>
                            </tr>
                            <tr>
                                <td class="centertext" style="width:5%">Ítem</td>
                                <td style="width:55%">Descripción</td>
                                <td class="centertext" style="width:15%">Referencia</td>
                                <td class="centertext" style="width:12%">Realizado</td>
                                <td class="centertext" style="width:13%">Supervisado</td>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="cont" t-value="1"/>
                            <t t-foreach="trabajos_realizar" t-as="trabajo_tag">
                                <tr>
                                    <td class="centertext"><b><span t-esc="cont"/></b></td>
                                    <td colspan="4" style="background-color:#eee;">
                                        <t t-if="trabajo_tag not in ['Others','']">Rev. <span t-esc="trabajo_tag"/>h</t>
                                        <t t-else=""><span t-esc="trabajo_tag"/></t>
                                    </td>
                                </tr>
                                <t t-foreach="trabajos_realizar[trabajo_tag]" t-as="tarea">
                                    <tr>
                                        <td class="centertext"><span t-esc="tarea[0]"/></td>
                                        <td><span t-esc="tarea[1]"/></td>
                                        <td class="centertext"><span t-esc="tarea[2]"/></td>
                                        <td>
                                            <t t-if="tarea[5]"><b>N/A</b> </t>
                                            <span t-esc="tarea[3]"/>
                                        </td>
                                        <td>
                                            <t t-if="tarea[5]"><b>N/A</b> </t>
                                            <span t-esc="tarea[4]"/>
                                        </td>
                                    </tr>
                                </t>
                                <t t-set="cont" t-value="cont+1"/>
                            </t>
                        </tbody>
                    </table>

                    <br/>
                    
                    <table class="fullwidth">
                        <tr><td class="tdcolored centertext">Observaciones / Notas</td></tr>
                        <tr><td style="height:80px; vertical-align:top;"><span t-esc="observaciones"/></td></tr>
                    </table>
                </div>

                <div class="footer">
                    <div class="footer-content">
                        <div style="text-align:right;">
                            Página <span class="page"/> de <span class="topage"/>
                        </div>
                    </div>
                </div>
            </t>
        </template>
    </data>
</odoo>